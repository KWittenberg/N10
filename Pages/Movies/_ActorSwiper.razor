@inject IJSRuntime JS

<div class="py-3">
    <div class="card">
        <div class="card-body">
            <h3>Cast</h3>
            <div class="swiper-container" @ref="container">
                <button class="nav-btn-prev d-none d-sm-block">
                    <i class="bi bi-chevron-left"></i>
                </button>
                <div class="d-flex flex-grow-1 align-items-center overflow-x-auto swiper-content">
                    @foreach (var actor in Actors)
                    {
                        <_ActorSwiperItem Actor="actor" />
                    }
                </div>
                <button class="nav-btn-next d-none d-sm-block">
                    <i class="bi bi-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>
</div>

@code {
    private ElementReference? container;

    [Parameter] public List<TmdbCast> Actors { get; set; } = [];


    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await using var jsModule = await JS.InvokeAsync<IJSObjectReference>("import", "/Pages/Movies/_ActorSwiper.razor.js");

            await jsModule.InvokeVoidAsync("init", container);
        }
    }
}